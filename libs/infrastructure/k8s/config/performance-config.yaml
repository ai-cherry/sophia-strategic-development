apiVersion: v1
data:
  nginx.conf: "

    # Nginx performance optimizations

    worker_processes auto;

    worker_connections 1024;

    keepalive_timeout 65;

    keepalive_requests 100;

    client_max_body_size 100M;

    gzip on;

    gzip_vary on;

    gzip_min_length 1024;

    gzip_types text/plain text/css application/json application/javascript;

    "
  postgresql.conf: "

    # PostgreSQL performance optimizations

    shared_buffers = 256MB

    effective_cache_size = 1GB

    maintenance_work_mem = 64MB

    checkpoint_completion_target = 0.9

    wal_buffers = 16MB

    default_statistics_target = 100

    random_page_cost = 1.1

    effective_io_concurrency = 200

    "
  redis.conf: "

    # Redis performance optimizations

    maxmemory-policy allkeys-lru

    maxmemory 4gb

    tcp-keepalive 60

    timeout 300

    tcp-backlog 511

    "
kind: ConfigMap
metadata:
  name: sophia-ai-performance-config
  namespace: sophia-ai
