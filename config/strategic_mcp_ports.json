{
  "strategic_framework": {
    "description": "Strategic port allocation for Sophia AI MCP services",
    "version": "2.1",
    "last_updated": "2025-07-16",
    "architecture": "Single source of truth design"
  },
  "port_tiers": {
    "core_ai": {
      "range": "9000-9019",
      "priority": "CRITICAL", 
      "description": "Core AI services with critical infrastructure dependencies",
      "services": {
        "ai_memory": {
          "port": 9000,
          "health_port": 9100,
          "service": "sophia_unified_memory_service",
          "description": "SINGLE UNIFIED MEMORY SERVICE - consolidates all memory operations",
          "features": [
            "Strategic port alignment",
            "Logical dev/business separation",
            "Mem0 integration (85.4% accuracy)",
            "3-tier caching with namespace isolation",
            "Enterprise RBAC and audit logging"
          ],
          "status": "PRODUCTION_READY",
          "replaces": [
            "unified_memory_service_primary",
            "unified_memory_service_v3", 
            "qdrant_unified_memory_service",
            "enhanced_memory_service_v3"
          ]
        },
        "embeddings": {
          "port": 9001,
          "service": "embedding_service",
          "description": "Text and code embedding generation service"
        },
        "vector_search": {
          "port": 9002,
          "service": "vector_search_service", 
          "description": "High-performance vector similarity search"
        }
      }
    },
    "business_intelligence": {
      "range": "9020-9039",
      "priority": "HIGH",
      "description": "Business intelligence and analytics services",
      "services": {
        "gong_intelligence": {
          "port": 9020,
          "service": "gong_mcp_server",
          "description": "Gong call analysis and sales intelligence"
        },
        "hubspot_crm": {
          "port": 9021,
          "service": "hubspot_mcp_server",
          "description": "HubSpot CRM integration and contact management"
        },
        "snowflake_analytics": {
          "port": 9022,
          "service": "snowflake_mcp_server",
          "description": "Snowflake data warehouse and analytics"
        },
        "business_workflow": {
          "port": 9023,
          "service": "workflow_orchestrator",
          "description": "Business process automation and workflow management"
        }
      }
    },
    "communication": {
      "range": "9040-9059", 
      "priority": "MEDIUM",
      "description": "Communication and collaboration services",
      "services": {
        "slack_integration": {
          "port": 9040,
          "service": "slack_mcp_server",
          "description": "Slack messaging and team communication"
        },
        "email_intelligence": {
          "port": 9041,
          "service": "email_mcp_server", 
          "description": "Email analysis and automated responses"
        }
      }
    },
    "development_tools": {
      "range": "9060-9079",
      "priority": "MEDIUM",
      "description": "Development and code analysis tools",
      "services": {
        "github_integration": {
          "port": 9060,
          "service": "github_mcp_server",
          "description": "GitHub repository management and code analysis"
        },
        "codacy_quality": {
          "port": 9061,
          "service": "codacy_mcp_server",
          "description": "Code quality analysis and security scanning"
        }
      }
    },
    "project_management": {
      "range": "9080-9099",
      "priority": "LOW",
      "description": "Project management and task tracking",
      "services": {
        "linear_tasks": {
          "port": 9080,
          "service": "linear_mcp_server",
          "description": "Linear issue tracking and project management"
        },
        "asana_projects": {
          "port": 9081,
          "service": "asana_mcp_server",
          "description": "Asana project management and team coordination"
        }
      }
    }
  },
  "health_monitoring": {
    "base_port": 9100,
    "pattern": "service_port + 100",
    "description": "Health check endpoints for each service",
    "services": {
      "ai_memory_health": 9100,
      "embeddings_health": 9101,
      "vector_search_health": 9102,
      "gong_intelligence_health": 9120,
      "hubspot_crm_health": 9121,
      "snowflake_analytics_health": 9122,
      "business_workflow_health": 9123,
      "slack_integration_health": 9140,
      "email_intelligence_health": 9141,
      "github_integration_health": 9160,
      "codacy_quality_health": 9161,
      "linear_tasks_health": 9180,
      "asana_projects_health": 9181
    }
  },
  "deployment_configuration": {
    "load_balancer": {
      "primary_port": 8080,
      "ssl_port": 8443,
      "upstream_pools": {
        "ai_memory_pool": ["localhost:9000"],
        "business_intelligence_pool": ["localhost:9020", "localhost:9021", "localhost:9022", "localhost:9023"],
        "communication_pool": ["localhost:9040", "localhost:9041"],
        "development_pool": ["localhost:9060", "localhost:9061"],
        "project_management_pool": ["localhost:9080", "localhost:9081"]
      }
    },
    "service_discovery": {
      "registry_port": 8500,
      "consul_enabled": true,
      "auto_registration": true
    }
  },
  "quality_assurance": {
    "port_conflicts": "RESOLVED",
    "service_fragmentation": "ELIMINATED",
    "configuration_consistency": "ACHIEVED", 
    "single_source_of_truth": "ESTABLISHED",
    "memory_architecture": "UNIFIED",
    "last_validation": "2025-07-16T08:27:42Z"
  }
} 